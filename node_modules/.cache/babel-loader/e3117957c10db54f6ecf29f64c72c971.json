{"ast":null,"code":"var _jsxFileName = \"/Users/tweecezor/Desktop/nodeJS/src/components/News/NewsListCard.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { deleteNews } from '../../store/news';\nimport { Typography, Card, CardContent, CardHeader, Avatar, CardActions, Button } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport ButtonLink from '../common/ButtonLink';\nimport { userPermissionsSelector } from '../../store/auth';\nimport _get from 'lodash.get';\n\nconst styles = theme => ({\n  wrapper: {\n    width: '100%',\n    flex: '1 1 100%',\n    paddingTop: '40px'\n  },\n  card: {\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst NewsListCard = withStyles(styles)(({\n  classes,\n  post,\n  dispatch,\n  permission\n}) => {\n  const removeNews = () => {\n    dispatch(deleteNews({\n      id: post.id\n    }));\n  };\n\n  const isUpdateAllowed = !!_get(permission, 'news.U', false);\n  const isDeleteAllowed = !!_get(permission, 'news.D', false);\n  return React.createElement(Card, {\n    className: classes.card,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    avatar: React.createElement(Avatar, {\n      \"aria-label\": \"recipe\",\n      src: post.user.image || '/assets/img/no-user-image.png',\n      alt: post.user.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }),\n    title: post.title,\n    subheader: post.created_at,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, post.text)), React.createElement(CardActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, isUpdateAllowed && React.createElement(ButtonLink, {\n    path: \"/news/\".concat(post.id, \"/edit\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"), isDeleteAllowed && React.createElement(Button, {\n    onClick: removeNews,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));\n});\n\nconst mapStateToProps = state => ({\n  permission: userPermissionsSelector(state)\n});\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(NewsListCard);","map":{"version":3,"sources":["/Users/tweecezor/Desktop/nodeJS/src/components/News/NewsListCard.jsx"],"names":["React","connect","compose","deleteNews","Typography","Card","CardContent","CardHeader","Avatar","CardActions","Button","withStyles","ButtonLink","userPermissionsSelector","_get","styles","theme","wrapper","width","flex","paddingTop","card","marginBottom","spacing","NewsListCard","classes","post","dispatch","permission","removeNews","id","isUpdateAllowed","isDeleteAllowed","user","image","username","title","created_at","text","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SACEC,UADF,EAEEC,IAFF,EAGEC,WAHF,EAIEC,UAJF,EAKEC,MALF,EAMEC,WANF,EAOEC,MAPF,QAQO,mBARP;AASA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,uBAAT,QAAwC,kBAAxC;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,EAAE,MADA;AAEPC,IAAAA,IAAI,EAAE,UAFC;AAGPC,IAAAA,UAAU,EAAE;AAHL,GADc;AAMvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,YAAY,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd;AADV;AANiB,CAAL,CAApB;;AAWA,MAAMC,YAAY,GAAGb,UAAU,CAACI,MAAD,CAAV,CAAmB,CAAC;AAAEU,EAAAA,OAAF;AAAWC,EAAAA,IAAX;AAAiBC,EAAAA,QAAjB;AAA2BC,EAAAA;AAA3B,CAAD,KAA6C;AACnF,QAAMC,UAAU,GAAG,MAAM;AACvBF,IAAAA,QAAQ,CAACxB,UAAU,CAAC;AAAE2B,MAAAA,EAAE,EAAEJ,IAAI,CAACI;AAAX,KAAD,CAAX,CAAR;AACD,GAFD;;AAGA,QAAMC,eAAe,GAAG,CAAC,CAACjB,IAAI,CAACc,UAAD,EAAa,QAAb,EAAuB,KAAvB,CAA9B;AACA,QAAMI,eAAe,GAAG,CAAC,CAAClB,IAAI,CAACc,UAAD,EAAa,QAAb,EAAuB,KAAvB,CAA9B;AACA,SACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEH,OAAO,CAACJ,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,MAAM,EACJ,oBAAC,MAAD;AACE,oBAAW,QADb;AAEE,MAAA,GAAG,EAAEK,IAAI,CAACO,IAAL,CAAUC,KAAV,IAAmB,+BAF1B;AAGE,MAAA,GAAG,EAAER,IAAI,CAACO,IAAL,CAAUE,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ;AAQE,IAAA,KAAK,EAAET,IAAI,CAACU,KARd;AASE,IAAA,SAAS,EAAEV,IAAI,CAACW,UATlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAYE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,eAAlC;AAAkD,IAAA,SAAS,EAAC,GAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,IAAI,CAACY,IADR,CADF,CAZF,EAiBE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEP,eAAe,IAAI,oBAAC,UAAD;AAAY,IAAA,IAAI,kBAAWL,IAAI,CAACI,EAAhB,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFADrB,EAEEE,eAAe,IAAI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEH,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAFrB,CAjBF,CADF;AAwBD,CA9BoB,CAArB;;AAgCA,MAAMU,eAAe,GAAGC,KAAK,KAAK;AAChCZ,EAAAA,UAAU,EAAEf,uBAAuB,CAAC2B,KAAD;AADH,CAAL,CAA7B;;AAGA,eAAetC,OAAO,CACpBS,UAAU,CAACI,MAAD,CADU,EAEpBd,OAAO,CAACsC,eAAD,CAFa,CAAP,CAGbf,YAHa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { deleteNews } from '../../store/news';\nimport {\n  Typography,\n  Card,\n  CardContent,\n  CardHeader,\n  Avatar,\n  CardActions,\n  Button\n} from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport ButtonLink from '../common/ButtonLink';\nimport { userPermissionsSelector } from '../../store/auth';\nimport _get from 'lodash.get'\n\nconst styles = theme => ({\n  wrapper: {\n    width: '100%',\n    flex: '1 1 100%',\n    paddingTop: '40px'\n  },\n  card: {\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst NewsListCard = withStyles(styles)(({ classes, post, dispatch, permission }) => {\n  const removeNews = () => {\n    dispatch(deleteNews({ id: post.id }));\n  };\n  const isUpdateAllowed = !!_get(permission, 'news.U', false);\n  const isDeleteAllowed = !!_get(permission, 'news.D', false);\n  return (\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={\n          <Avatar\n            aria-label=\"recipe\"\n            src={post.user.image || '/assets/img/no-user-image.png'}\n            alt={post.user.username}\n          ></Avatar>\n        }\n        title={post.title}\n        subheader={post.created_at}\n      />\n      <CardContent>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {post.text}\n        </Typography>\n      </CardContent>\n      <CardActions>\n      { isUpdateAllowed && <ButtonLink path={`/news/${post.id}/edit`}>Редактировать</ButtonLink> }\n      { isDeleteAllowed && <Button onClick={removeNews}>Удалить</Button> }\n      </CardActions>\n    </Card>\n  );\n});\n\nconst mapStateToProps = state => ({\n  permission: userPermissionsSelector(state)\n});\nexport default compose(\n  withStyles(styles),\n  connect(mapStateToProps)\n)(NewsListCard);\n"]},"metadata":{},"sourceType":"module"}