{"ast":null,"code":"var _jsxFileName = \"/Users/tweecezor/Desktop/nodeJS/src/components/News/NewsList.jsx\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { getNews, isLoadingNewsListSelector, isLoadedSelector, newsListSelector } from '../../store/news';\nimport ButtonLink from '../common/ButtonLink';\nimport NewsListCard from './NewsListCard';\nimport { userPermissionsSelector } from '../../store/auth';\nimport _get from 'lodash.get';\nimport routes from '../../constants/routes';\n\nclass NewsList extends PureComponent {\n  componentDidMount() {\n    const dispatch = this.props.dispatch;\n    dispatch(getNews());\n  }\n\n  render() {\n    const _this$props = this.props,\n          isLoading = _this$props.isLoading,\n          isLoaded = _this$props.isLoaded,\n          news = _this$props.news,\n          permission = _this$props.permission;\n    const isCreateAllowed = !!_get(permission, 'news.C', false);\n    return React.createElement(React.Fragment, null, isCreateAllowed && React.createElement(ButtonLink, {\n      color: \"primary\",\n      path: \"\".concat(routes.news, \"/add\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, isLoading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Loading...\") : null, isLoaded ? news.length ? news.map(post => React.createElement(NewsListCard, {\n      post: post,\n      key: post.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"\\u041D\\u0435\\u0442 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\") : null));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isLoading: isLoadingNewsListSelector(state),\n  isLoaded: isLoadedSelector(state),\n  news: newsListSelector(state),\n  permission: userPermissionsSelector(state)\n});\n\nexport default connect(mapStateToProps, null)(NewsList);","map":{"version":3,"sources":["/Users/tweecezor/Desktop/nodeJS/src/components/News/NewsList.jsx"],"names":["React","PureComponent","connect","getNews","isLoadingNewsListSelector","isLoadedSelector","newsListSelector","ButtonLink","NewsListCard","userPermissionsSelector","_get","routes","NewsList","componentDidMount","dispatch","props","render","isLoading","isLoaded","news","permission","isCreateAllowed","length","map","post","id","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,OADF,EAEEC,yBAFF,EAGEC,gBAHF,EAIEC,gBAJF,QAKO,kBALP;AAMA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,uBAAT,QAAwC,kBAAxC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,MAAMC,QAAN,SAAuBX,aAAvB,CAAqC;AACnCY,EAAAA,iBAAiB,GAAG;AAAA,UACVC,QADU,GACG,KAAKC,KADR,CACVD,QADU;AAElBA,IAAAA,QAAQ,CAACX,OAAO,EAAR,CAAR;AACD;;AACDa,EAAAA,MAAM,GAAG;AAAA,wBAC2C,KAAKD,KADhD;AAAA,UACCE,SADD,eACCA,SADD;AAAA,UACYC,QADZ,eACYA,QADZ;AAAA,UACsBC,IADtB,eACsBA,IADtB;AAAA,UAC4BC,UAD5B,eAC4BA,UAD5B;AAEP,UAAMC,eAAe,GAAG,CAAC,CAACX,IAAI,CAACU,UAAD,EAAa,QAAb,EAAuB,KAAvB,CAA9B;AACA,WACE,0CACGC,eAAe,IACd,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,SAAlB;AAA4B,MAAA,IAAI,YAAKV,MAAM,CAACQ,IAAZ,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAFJ,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,SAAS,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAH,GAA2B,IADvC,EAEGC,QAAQ,GACPC,IAAI,CAACG,MAAL,GACEH,IAAI,CAACI,GAAL,CAASC,IAAI,IAAI,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAEA,IAApB;AAA0B,MAAA,GAAG,EAAEA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjB,CADF,GAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAJK,GAML,IARN,CANF,CADF;AAmBD;;AA3BkC;;AA8BrC,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAChCV,EAAAA,SAAS,EAAEb,yBAAyB,CAACuB,KAAD,CADJ;AAEhCT,EAAAA,QAAQ,EAAEb,gBAAgB,CAACsB,KAAD,CAFM;AAGhCR,EAAAA,IAAI,EAAEb,gBAAgB,CAACqB,KAAD,CAHU;AAIhCP,EAAAA,UAAU,EAAEX,uBAAuB,CAACkB,KAAD;AAJH,CAAL,CAA7B;;AAOA,eAAezB,OAAO,CACpBwB,eADoB,EAEpB,IAFoB,CAAP,CAGbd,QAHa,CAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  getNews,\n  isLoadingNewsListSelector,\n  isLoadedSelector,\n  newsListSelector\n} from '../../store/news';\nimport ButtonLink from '../common/ButtonLink';\nimport NewsListCard from './NewsListCard';\nimport { userPermissionsSelector } from '../../store/auth';\nimport _get from 'lodash.get';\nimport routes from '../../constants/routes';\n\nclass NewsList extends PureComponent {\n  componentDidMount() {\n    const { dispatch } = this.props;\n    dispatch(getNews());\n  }\n  render() {\n    const { isLoading, isLoaded, news, permission } = this.props;\n    const isCreateAllowed = !!_get(permission, 'news.C', false);\n    return (\n      <>\n        {isCreateAllowed && (\n          <ButtonLink color=\"primary\" path={`${routes.news}/add`}>\n            Добавить\n          </ButtonLink>\n        )}\n        <div>\n          {isLoading ? <div>Loading...</div> : null}\n          {isLoaded ? (\n            news.length ? (\n              news.map(post => <NewsListCard post={post} key={post.id} />)\n            ) : (\n              <div>Нет новостей</div>\n            )\n          ) : null}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isLoading: isLoadingNewsListSelector(state),\n  isLoaded: isLoadedSelector(state),\n  news: newsListSelector(state),\n  permission: userPermissionsSelector(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(NewsList);\n"]},"metadata":{},"sourceType":"module"}